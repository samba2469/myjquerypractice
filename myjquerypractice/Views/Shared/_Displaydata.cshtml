<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.js"></script>
<script type="text/javascript" src="js/jspdf.js"></script>
<script type="text/javascript" src="js/from_html.js"></script>
<script type="text/javascript" src="js/split_text_to_size.js"></script>
<script type="text/javascript" src="js/standard_fonts_metrics.js"></script>
<script type="text/javascript" src="js/cell.js"></script>
<script type="text/javascript" src="js/FileSaver.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.2.61/jspdf.min.js"></script>
<script src="https://github.com/simonbengtsson/jsPDF-AutoTable"></script>

<h1>hii this partial view</h1>

<style>
     .row {
            padding: 10px;
            width: 450px;
        }

        .Width150px {
            width: 100px;
            display: inline-block;
        }
        #tabeldata tr:nth-child(even) {
            background-color: darkgrey;

        }
</style>
<script src="~/scripts/jquery-3.4.1.min.js"></script>

<script>
    $(document).ready(function () {
        //$("userdata").load("/Home/displaydata");
        debugger;
        $.ajax({
            type: "POST",
            url: "/Home/displaydata",
            //data: '{customerId: "' + customerId + '" }',
            contentType: "application/json; charset=utf-8",
         
            success: function (response) {
                alert(response.name);
             
            },
           
            error: function (response) {
                alert(response.responseText);
            }
        });
      
    });
    $("#exportpdf").click(function () {
        alert("call pdf");
    });

    ////document.getElementById('export').addEventListener('click',
    ////    exportPDF);




    ////var specialElementHandlers = {
    ////    // element with id of "bypass" - jQuery style selector
    ////    '.no-export': function (element, renderer) {
    ////        return true;
    ////    }
    ////};
    //////generate pdf format data
    ////$('#export').click(function () {

    ////    function exportPDF() {
    ////        var doc = new jsPDF('p', 'pt', 'a4');

    ////        var source = (document.getElementById('content').innerHTML);
    ////        //var data = doc.autoTable(source);
    ////        //doc.autoTable(data.columns[0], data.columns[1], data.columns[2])
    ////        margins = {
    ////            height: 20,
    ////            top: 40,
    ////            bottom: 60,
    ////            left: 40,
    ////            width: 522
    ////        };
    ////        doc.fromHTML(
    ////              source,// HTML string or DOM elem ref.
    ////              margins.left,
    ////              margins.top, {
    ////                  'width': margins.width,
    ////                  'elementHandlers': specialElementHandlers
    ////              },
    ////        function (dispose) {
    ////            // dispose: object with X, Y of the last line add to the PDF 
    ////            //          this allow the insertion of new lines after html
    ////            doc.save('sss.pdf');
    ////        }, margins);
    ////    }

    ////});
  


</script>
<div id="divSearchResult">

</div>
<button value="Export" id="exportpdf" class="btn btn-primary">Export</button>
<table id="tabeldata" data-actionurl="@Url.Action("displaydata", "Home",  ViewBag.userdata)">
    <thead style="background-color:cornflowerblue">
        <tr>
            <th style="visibility:hidden">ID</th>
            <th>NAME</th>
            <th>PASSWORD</th>
            <th>EMAIL</th>
            <th>PHONE NO</th>
            <th>DATE OF BIRTH</th>
            <th>GENDER</th>
            <th>LANGUAGE</th>
            <th>ADDRESS</th>
        </tr>
    </thead>
    <tbody class="tbody">

        @foreach (var item in ViewBag.userdata)
            {
            <tr>
                <td style="visibility:hidden">@item.id</td>
                <td>@item.name</td>
                <td>@item.password</td>
                <td>@item.email</td>
                <td>@item.phno</td>
                <td>@item.dateofbirth</td>
                <td>@item.gender</td>
                <td>@item.language</td>
                <td>@item.address</td>

            </tr>
        }



    </tbody>

</table>

